{% extends 'base.html' %}

{% load static %}
{% load render_table from django_tables2 %}

{% block script %}
<script>
var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
  return new bootstrap.Tooltip(tooltipTriggerEl)
})

var myModal = document.getElementById('myModal')
var myInput = document.getElementById('myInput')

myModal.addEventListener('shown.bs.modal', function () {
  myInput.focus()
})
</script>
{% endblock %}

{% block content %}
<style>
    .scrollspy-body {
        position: relative;
        height: 900px;
        overflow: auto;
    }

    .bg-purple {
        background-color: purple;
    }

    /* recipe url iframe */
    .tiptext {
        cursor:pointer;
    }

    .description {
        display:none;
        position:absolute;
        border:1px solid #000;
        width:400px;
        height:400px;
        background-color: #fff;
    }

    .select2-container {
    z-index: 99999;
}
</style>
{{ filter.form.media }}
<div class="container mt-5">
    <div class="row">
        <!-- Buttons -->
        <div class="col mb-3">
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                <i class="fas fa-filter"></i> Filter
            </button>
            <a href="{% url 'home' %}" class="btn btn-secondary ms-3"><i class="fas fa-sync-alt"></i> Refresh</a>
        </div>
        <!-- Table -->
        {% render_table table %}
        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Filter</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form action="" method="GET">
                    <div class="modal-body">
                        <div class="row">
                            {% if filter %}
                                {% for field in filter.form %}
                                    {% if field.auto_id == 'id_recipe_rating' or field.auto_id == 'id_recipe_time_amount' %}
                                        <div class="mb-3 col-lg-6">
                                            <label for="{{ field.auto_id }}" class="form-label">{{ field.label }}</label>
                                            <div class="input-group">
                                                {{ field }}
                                            </div>
                                        </div>
                                    {% else %}
                                        <div class="mb-3 col-lg-6">
                                            <label for="{{ field.auto_id }}" class="form-label">{{ field.label }}</label>
                                            {{ field }}
                                        </div>
                                    {% endif %}
                                {% endfor %}
                            {% endif %}
                        </div>
                    </div>
                <div class="modal-footer">
                    <input class="btn btn-primary" type="submit" />
                </div>
                </form>
            </div>
            </div>
        </div>
        <!-- End Modal -->
    </div>
</div>
{% endblock %}